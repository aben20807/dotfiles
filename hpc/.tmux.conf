set -g default-terminal "xterm-256color"                                                                                                                                                                                                                                                                                                                                              [0/0]set-window-option -g xterm-keys on                                                                                                                                                                                                                                                                                                                                                         
set -g default-command "${SHELL}" # reduce login counts for servers                                                                                                                                                                                                                                                                                                                        
set -g mouse on                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                           
set-option -g prefix C-b                                                                                                                                                                                                                                                                                                                                                                   
set-option -g prefix2 C-q                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                           
# Create window                                                                                                                                                                                                                                                                                                                                                                            
bind-key n new-window                                                                                                                                                                                                                                                                                                                                                                      
# use C-n to create new windows because C-c is to interrupt                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                           
# split panes using | and -                                                                                                                                                                                                                                                                                                                                                                
bind-key | split-window -h -c '#{pane_current_path}'                                                                                                                                                                                                                                                                                                                                       
bind-key - split-window -v -c '#{pane_current_path}'                                                                                                                                                                                                                                                                                                                                       
# unbind-key '"'                                                                                                                                                                                                                                                                                                                                                                           
# unbind-key %                                                                                                                                                                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                                                                                                                                                           
set -g default-terminal "xterm-256color"                                                                                                                                                                                                                                                                                                                                                   
set-window-option -g xterm-keys on                                                                                                                                                                                                                                                                                                                                                         
set -g default-command "${SHELL}" # reduce login counts for servers                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                           
# reload config file (change file location to your the tmux.conf you want to use)                                                                                                                                                                                                                                                                                                          
bind-key r source-file ~/.tmux.conf                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                                                                                                                                                           
set -g base-index 1      #窗口編號從1開始計數                                                                                                                                                                                                                                                                                                                                              
set -g display-panes-time 10000 # PREFIX-Q顯示編號的駐留時長，單位ms                                                                                                                                                                                                                                                                                                                       
set -g pane-base-index 1      #窗格編號從1開始計數                                                                                                                                                                                                                                                                                                                                         
set -g renumber-windows on     #關掉某個窗口後，編號重排                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                           
# don't rename windows automatically                                                                                                                                                                                                                                                                                                                                                       
setw -g allow-rename off                                                                                                                                                                                                                                                                                                                                                                   
setw -g automatic-rename off                                                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                           
# Prevent terminal freezing by C-s                                                                                                                                                                                                                                                                                                                                                         
bind-key -n C-s display 'Terminal freezing by C-s prevented'                                                                                                                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                                                                                                                                                           
# -----------------------------                                                                                                                                                                                                                                                                                                                                                            
# Copy-mode (vi-mode)                                                                                                                                                                                                                                                                                                                                                                      
# -----------------------------                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                           
# vi-style controls for copy mode                                                                                                                                                                                                                                                                                                                                                          
setw -g mode-keys vi                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                           
bind-key [ copy-mode                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                           
# select and copy like vi in vi-mode                                                                                                                                                                                                                                                                                                                                                       
bind-key -T copy-mode-vi v send -X begin-selection                                                                                                                                                                                                                                                                                                                                         
bind-key -T copy-mode-vi y send -X copy-selection                                                                                                                                                                                                                                                                                                                                          
# if encounter incompatible with send-keys/send -X, use lagacy setting:                                                                                                                                                                                                                                                                                                                    
# bind-key -t vi-copy 'v' begin-selection                                                                                                                                                                                                                                                                                                                                                  
# bind-key -t vi-copy 'y' copy-selection                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                           
# pasting                                                                                                                                                                                                                                                                                                                                                                                  
bind-key ] paste-buffer                                                                                                                                                                                                                                                                                                                                                                    
# bind-key -n C-v paste-buffer                                                                                                                                                                                                                                                                                                                                                             
# bind-key C-v paste-buffer                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                           
# open a man page in new pane, using q to leave                                                                                                                                                                                                                                                                                                                                            
bind-key / command-prompt -p 'man ' "split-window -h 'exec man %%'"                                                                                                                                                                                                                                                                                                                        
bind-key -n C-f command-prompt -p 'fzf' "split-window -h 'exec find ~/ -type f | fzf'"                                                                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                                                                                                                                                           
bind-key b copy-mode\;\                                                                                                                                                                                                                                                                                                                                                                    
           send-keys -X start-of-line\;\                                                                                                                                                                                                                                                                                                                                                   
           send-keys -X search-backward "\$"\;\                                                                                                                                                                                                                                                                                                                                            
           send-keys -X cursor-right                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                           
# No delay for escape key press                                                                                                                                                                                                                                                                                                                                                            
set -sg escape-time 0                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                           
# Ref: https://gist.github.com/bartj3/6d3bd8efd2ceaf02d443                                                                                                                                                                                                                                                                                                                                 
set-hook -g after-resize-pane \                                                                                                                                                                                                                                                                                                                                                            
    "if-shell \"tmux list-panes -F '#F' | \                                                                                                                                                                                                                                                                                                                                                
    grep -q Z\" \"set -g status off\" \"set -g status on\""                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                           
set-option -g history-limit 99999999 